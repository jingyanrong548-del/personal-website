// Language data
const translations = {
    en: {
        // Navigation
        'nav.brand': 'Jing Yanrong',
        'nav.about': 'About',
        'nav.apps': 'Apps',
        'nav.contact': 'Contact',
        
        // Hero
        'hero.name': 'Jing Yanrong',
        'hero.subtitle': 'Public Equipment Engineer (Power)',
        'hero.badge1': 'Refrigeration',
        'hero.badge2': 'Heat Pumps',
        'hero.badge3': 'AI Applications',
        'hero.badge4': 'Industrial Systems',
        
        // About
        'about.title': 'About',
        'about.text1': 'I\'m Jing Yanrong (荆炎荣), a Public Equipment Engineer (Power) specializing in industrial refrigeration and heat pump systems. I focus on advancing green low-carbon technologies through innovative design and AI applications in industrial equipment engineering.',
        'about.text2': 'I develop practical applications and tools for the refrigeration and heat pump industry, focusing on design optimization, energy efficiency analysis, and system performance calculation.',
        
        // Apps
        'apps.title': 'Applications',
        'apps.description': 'Refrigeration & Heat Pump Application Tools',
        'apps.app1.title': 'Heat Pump Calculator',
        'apps.app1.description': 'Industrial heat pump system performance calculation tool',
        'apps.app2.title': 'Refrigeration System Designer',
        'apps.app2.description': 'Design and optimization tool for industrial refrigeration systems',
        'apps.app3.title': 'Energy Efficiency Analyzer',
        'apps.app3.description': 'Analyze and optimize energy consumption of HVAC systems',
        'apps.app4.title': 'Temperature Range Optimizer',
        'apps.app4.description': 'Optimize temperature ranges for wide-range heat pump systems',
        'apps.app5.title': 'Component Sizing Tool',
        'apps.app5.description': 'Size compressors, heat exchangers, and other components',
        'apps.tags.calculation': 'Calculation',
        'apps.tags.heatPump': 'Heat Pump',
        'apps.tags.design': 'Design',
        'apps.tags.refrigeration': 'Refrigeration',
        'apps.tags.analysis': 'Analysis',
        'apps.tags.energy': 'Energy',
        'apps.tags.optimization': 'Optimization',
        'apps.tags.temperature': 'Temperature',
        'apps.tags.sizing': 'Sizing',
        'apps.tags.components': 'Components',
        'apps.comingSoon': 'Coming Soon',
        
        // Contact
        'contact.title': 'Contact',
        'contact.wechat': 'WeChat: jingyanrongdalian',
        
        // Footer
        'footer.copyright': '© 2026 Jing Yanrong. All rights reserved.'
    },
    zh: {
        'nav.brand': '荆炎荣 / Jing Yanrong',
        'nav.about': '关于',
        'nav.apps': '应用',
        'nav.contact': '联系',
        'hero.name': '荆炎荣 / Jing Yanrong',
        'hero.subtitle': '公用设备工程师（动力）',
        'hero.badge1': '制冷工程',
        'hero.badge2': '热泵系统',
        'hero.badge3': 'AI应用',
        'hero.badge4': '工业系统',
        'about.title': '关于',
        'about.text1': '我是荆炎荣（Jing Yanrong），公用设备工程师（动力），专注于工业制冷和热泵系统。致力于通过创新设计和人工智能应用推进绿色低碳技术在工业设备工程中的发展。',
        'about.text2': '我为制冷和热泵行业开发实用的应用程序和工具，专注于设计优化、能效分析和系统性能计算。',
        'apps.title': '应用工具',
        'apps.description': '制冷热泵应用工具集',
        'apps.app1.title': '热泵计算器',
        'apps.app1.description': '工业热泵系统性能计算工具',
        'apps.app2.title': '制冷系统设计器',
        'apps.app2.description': '工业制冷系统设计与优化工具',
        'apps.app3.title': '能效分析器',
        'apps.app3.description': '分析和优化暖通空调系统能耗',
        'apps.app4.title': '温度范围优化器',
        'apps.app4.description': '优化宽温域热泵系统的温度范围',
        'apps.app5.title': '部件选型工具',
        'apps.app5.description': '压缩机、换热器等部件的选型',
        'apps.tags.calculation': '计算',
        'apps.tags.heatPump': '热泵',
        'apps.tags.design': '设计',
        'apps.tags.refrigeration': '制冷',
        'apps.tags.analysis': '分析',
        'apps.tags.energy': '能源',
        'apps.tags.optimization': '优化',
        'apps.tags.temperature': '温度',
        'apps.tags.sizing': '选型',
        'apps.tags.components': '部件',
        'apps.comingSoon': '即将推出',
        'contact.title': '联系方式',
        'contact.wechat': '微信: jingyanrongdalian',
        'footer.copyright': '© 2026 荆炎荣. 保留所有权利.'
    },
    ja: {
        'nav.brand': '荆炎荣 / Jing Yanrong',
        'nav.about': 'について',
        'nav.apps': 'アプリ',
        'nav.contact': '連絡先',
        'hero.name': 'Jing Yanrong',
        'hero.subtitle': '公共設備エンジニア（動力）',
        'hero.badge1': '冷凍',
        'hero.badge2': 'ヒートポンプ',
        'hero.badge3': 'AI応用',
        'hero.badge4': '工業システム',
        'about.title': 'について',
        'about.text1': '私はJing Yanrong（荆炎荣）です。工業用冷凍システムとヒートポンプシステムを専門とする公共設備エンジニア（動力）です。革新的な設計とAI応用を通じて、工業設備エンジニアリングにおけるグリーン低炭素技術の推進に焦点を当てています。',
        'about.text2': '冷凍・ヒートポンプ業界向けの実用的なアプリケーションとツールを開発し、設計の最適化、エネルギー効率分析、システム性能計算に焦点を当てています。',
        'apps.title': 'アプリケーション',
        'apps.description': '冷凍・ヒートポンプアプリケーションツール',
        'apps.app1.title': 'ヒートポンプ計算機',
        'apps.app1.description': '工業用ヒートポンプシステムの性能計算ツール',
        'apps.app2.title': '冷凍システム設計ツール',
        'apps.app2.description': '工業用冷凍システムの設計と最適化ツール',
        'apps.app3.title': 'エネルギー効率分析ツール',
        'apps.app3.description': 'HVACシステムのエネルギー消費を分析・最適化',
        'apps.app4.title': '温度範囲最適化ツール',
        'apps.app4.description': '広範囲ヒートポンプシステムの温度範囲を最適化',
        'apps.app5.title': 'コンポーネントサイジングツール',
        'apps.app5.description': 'コンプレッサー、熱交換器などのコンポーネントサイジング',
        'apps.tags.calculation': '計算',
        'apps.tags.heatPump': 'ヒートポンプ',
        'apps.tags.design': '設計',
        'apps.tags.refrigeration': '冷凍',
        'apps.tags.analysis': '分析',
        'apps.tags.energy': 'エネルギー',
        'apps.tags.optimization': '最適化',
        'apps.tags.temperature': '温度',
        'apps.tags.sizing': 'サイジング',
        'apps.tags.components': 'コンポーネント',
        'apps.comingSoon': '近日公開',
        'contact.title': '連絡先',
        'contact.wechat': 'WeChat: jingyanrongdalian',
        'footer.copyright': '© 2026 Jing Yanrong. 全著作権所有.'
    },
    ru: {
        'nav.brand': 'Jing Yanrong',
        'nav.about': 'О себе',
        'nav.apps': 'Приложения',
        'nav.contact': 'Контакты',
        'hero.name': 'Jing Yanrong',
        'hero.subtitle': 'Инженер общественных установок (Энергетика)',
        'hero.badge1': 'Холодильное оборудование',
        'hero.badge2': 'Тепловые насосы',
        'hero.badge3': 'AI приложения',
        'hero.badge4': 'Промышленные системы',
        'about.title': 'О себе',
        'about.text1': 'Я Jing Yanrong (荆炎荣), инженер общественных установок (Энергетика), специализирующийся на промышленных системах охлаждения и тепловых насосах. Я сосредоточен на продвижении зеленых низкоуглеродных технологий через инновационный дизайн и применение ИИ в инженерном оборудовании.',
        'about.text2': 'Я разрабатываю практические приложения и инструменты для холодильной промышленности и индустрии тепловых насосов, сосредотачиваясь на оптимизации проектирования, анализе энергоэффективности и расчете производительности систем.',
        'apps.title': 'Приложения',
        'apps.description': 'Инструменты для холодильного оборудования и тепловых насосов',
        'apps.app1.title': 'Калькулятор теплового насоса',
        'apps.app1.description': 'Инструмент для расчета производительности промышленных систем тепловых насосов',
        'apps.app2.title': 'Конструктор холодильных систем',
        'apps.app2.description': 'Инструмент для проектирования и оптимизации промышленных холодильных систем',
        'apps.app3.title': 'Анализатор энергоэффективности',
        'apps.app3.description': 'Анализ и оптимизация энергопотребления систем HVAC',
        'apps.app4.title': 'Оптимизатор температурного диапазона',
        'apps.app4.description': 'Оптимизация температурных диапазонов для широкодиапазонных систем тепловых насосов',
        'apps.app5.title': 'Инструмент расчета компонентов',
        'apps.app5.description': 'Расчет компрессоров, теплообменников и других компонентов',
        'apps.tags.calculation': 'Расчет',
        'apps.tags.heatPump': 'Тепловой насос',
        'apps.tags.design': 'Проектирование',
        'apps.tags.refrigeration': 'Охлаждение',
        'apps.tags.analysis': 'Анализ',
        'apps.tags.energy': 'Энергия',
        'apps.tags.optimization': 'Оптимизация',
        'apps.tags.temperature': 'Температура',
        'apps.tags.sizing': 'Размеры',
        'apps.tags.components': 'Компоненты',
        'apps.comingSoon': 'Скоро',
        'contact.title': 'Контакты',
        'contact.wechat': 'WeChat: jingyanrongdalian',
        'footer.copyright': '© 2026 Jing Yanrong. Все права защищены.'
    }
};

// Language management
let currentLanguage = localStorage.getItem('language') || 'en';

function setLanguage(lang) {
    if (!translations[lang]) return;
    
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    
    // Update HTML lang attribute
    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : lang;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update active language button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });
}

// Smooth scroll behavior and interactive features
document.addEventListener('DOMContentLoaded', function() {
    // Set initial language
    setLanguage(currentLanguage);
    
    // Language switcher buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            setLanguage(lang);
        });
    });
    
    // Handle navigation clicks
    const navLinks = document.querySelectorAll('.nav-menu a');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
                
                // Update active state
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });

    // Intersection Observer for scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe elements for animation
    const animatedElements = document.querySelectorAll(
        '.app-card, .contact-item'
    );

    animatedElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });

    // Active navigation highlighting on scroll
    window.addEventListener('scroll', function() {
        let current = '';
        const sections = document.querySelectorAll('section[id]');
        const scrollPosition = window.pageYOffset + 150;
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === '#' + current) {
                link.classList.add('active');
            }
        });
    });

    // App card hover effects
    const appCards = document.querySelectorAll('.app-card');
    appCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-4px)';
        });
        
        card.addEventListener('mouseleave', function() {
            if (!this.classList.contains('coming-soon')) {
                this.style.transform = 'translateY(0)';
            }
        });
    });

    // Nav brand click to scroll to top
    const navBrand = document.querySelector('.nav-brand');
    if (navBrand) {
        navBrand.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            
            // Reset active nav state
            navLinks.forEach(link => link.classList.remove('active'));
        });
    }

    // Add active class style for navigation
    const style = document.createElement('style');
    style.textContent = `
        .nav-menu a.active {
            color: var(--secondary-color);
            font-weight: 500;
        }
    `;
    document.head.appendChild(style);

    console.log('Personal homepage loaded successfully!');
});